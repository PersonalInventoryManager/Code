%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}
      %title Personal Inventory Manager
      %script{:src => "scripts/jquery-1.6.2.js", :type => "text/javascript"}
      %script{:src => "scripts/jquery-ui-1.8.16.custom.min.js", :type => "text/javascript"}
      %link{:href => "styles/jquery-ui-1.8.16.custom.css", :rel => "stylesheet", :type => "text/css"}/
      %script{:src => "scripts/autocomplete.js", :type => "text/javascript"}
      %script{:src => "scripts/validate.js", :type => "text/javascript"}
      %script{:src => "scripts/details.js", :type => "text/javascript"}
      %link{:href => "styles/core.css", :rel => "stylesheet", :type => "text/css"}/
      %link{:href => "styles/details.css", :rel => "stylesheet", :type => "text/css"}/
  %body
    = haml :links
    .title_container
      .title_div Item Details
      .name_div
        %span.name_span{:onclick => "changeToTextFieldTitle(this, 'nme', true);"}=@detail_item.iname
    .changed_div
      %span#changedspan
        Change Saved
    #crtmod Created: #{@detail_item.date_added}
    %br/
    .large_font
      UPC:
      %span.text_span{:onclick => "changeToTextField(this, 'upc', true);"}=@detail_item.upc
    %br/
    .large_font
      Location:
      %span.text_span{:onclick => "changeToTextField(this, 'upc');"}=@detail_item.location
    %br/
    .large_font
      Category:
      %span{:style => "padding:10px;"}=@detail_item.category.cname
    -@detail_item.itemAttributes.all.each do |attr|
      %br/
      .large_font
        %span.text_span{:onclick => "changeToAutocompleteTextField(this, keylist, 'k0', true);"}=attr.akey
        \:
        %span.text_span{:onclick => "changeToTextField(this, 'v0');"}=attr.avalue
      %br/
    %br/
    .large_font
      Notes:
      %br/
      %br/
      %span.notes_span{:onclick => "changeToTextArea(this, 'notes');"}=@detail_item.notes
